{
  "branches": [
    "master",
    {
      "name": "beta",
      "prerelease": true
    },
    {
      "name": "dev",
      "prerelease": true
    }
  ],
  "plugins": [
    [
      "@semantic-release/commit-analyzer",
      {
        "preset": "conventionalcommits"
      }
    ],
    [
      "@semantic-release/github",
      {
        "assets": [
          "**/*.{js,css,html,txt,json,md,yaml,yml,py,sh,xml}",
          "io.github.mall0r.Twinverse.yaml",
          "version",
          "CHANGELOG.md"
        ],
        "releasedLabels": ["Status: Released"],
        "releasedIssues": true
      }
    ],
    [
      "@semantic-release/exec",
      {
        "prepareCmd": "python scripts/version_manager.py ${nextRelease.version} && echo ${nextRelease.version} | sed 's/v//' > version",
        "publishCmd": "make flatpak && make appimage"
      }
    ],
    [
      "@semantic-release/git",
      {
        "assets": [
          "share/metainfo/io.github.mall0r.Twinverse.metainfo.xml",
          "version",
          "README.md",
          "docs/README.pt-br.md",
          "docs/README.es.md",
          "scripts/package-appimage.sh",
          "scripts/package-flatpak.sh",
          "io.github.mall0r.Twinverse.yaml"
        ],
        "message": "chore(release): atualiza vers√£o para <%= nextRelease.version %> [skip ci]\n\n<%= nextRelease.notes %>"
      }
    ],
    [
      "@semantic-release/github",
      {
        "assets": ["dist/**", "*.flatpak", "*.AppImage"],
        "releasedLabels": ["Status: Released"]
      }
    ]
  ],
  "preset": "conventionalcommits",
  "releaseRules": [
    {
      "type": "feat",
      "release": "minor"
    },
    {
      "type": "fix",
      "release": "patch"
    },
    {
      "type": "breaking",
      "release": "major"
    },
    {
      "scope": "no-release",
      "release": false
    }
  ],
  "parserOpts": {
    "noteKeywords": ["BREAKING CHANGE", "BREAKING CHANGES", "breaking"]
  }
}
